sap.ui.define(["com/eramet/maintenanceF5D/controller/BaseController","com/eramet/maintenanceF5D/util/util","com/eramet/maintenanceF5D/util/formatter"],function(e,t,i){"use strict";return e.extend("com.eramet.depanneur.HATDepanneurApp.controller.AvisDetail",{onInit:function(){this.getRouter().attachRoutePatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){if(e.getParameter("name")==="AvisDetail"){var i=t.sSelectedTile.split("--")[1],o="";switch(i){case"errorFirst":o=this.getView().getModel("i18n").getResourceBundle().getText("avisFirstTile");break;case"errorSecond":o=this.getView().getModel("i18n").getResourceBundle().getText("avisSecondTile");break;case"errorThird":o=this.getView().getModel("i18n").getResourceBundle().getText("avisThirdTile");break;case"errorFourth":o=this.getView().getModel("i18n").getResourceBundle().getText("avisFourthTile")}this.getView().byId("finalText").setText(o);this.getView().byId("finalText2").setText(t.aDetailAvis.title);this.getView().byId("avisDetail").setTitle(t.aDetailAvis.title)}},backToHome:function(){this.getRouter().navTo("Home")},backToAvis:function(){this.getRouter().navTo("Detail")},onPressNavBack:function(){this.getRouter().navTo("Detail")},onPressRepousser:function(){var e=sap.ui.xmlfragment("com.eramet.depanneur.HATDepanneurApp.view.fragment.refusal",this);this.getView().addDependent(e);e.open()},onPressDemarrer:function(){this._resetModel();var e=this.getView().byId("avisDetail").getTitle().split("avis ")[1],i=this.getModel("followupListModel").getData();t.oSelectedOT=i[e-1].title.split("N° ")[1];console.log("oSelectedOT: ",t.oSelectedOT);this.getRouter().navTo("OTDetail")},onPressClose:function(){var e=sap.ui.getCore();e.byId("refusalDialog").close();e.byId("refusalDialog").destroy()},_resetModel:function(){var e=[{title:"N° OT 0000001",text:"Tube qui fuit",date:"21/10/2019",equipement:"Trousse de réparation",status:"Faible",prio:"Prio 1",codePoste:"code poste technique 1",description:"description courte 1"},{title:"N° OT 0000002",text:"Verre brisé",date:"18/10/2019",equipement:"Verre coupé à la taille",status:"Moyenne",prio:"Prio 2",codePoste:"code poste technique 2",description:"description courte 1"},{title:"N° OT 0000003",text:"Plateau cassé",date:"17/10/2019",equipement:"Charpentier",status:"Majeure",prio:"Prio 3",codePoste:"code poste technique 1",description:"description courte 2"},{title:"N° OT 0000004",text:"Pas de chauffage",date:"21/10/2019",equipement:"Mécanicien en chauffage",status:"Faible",prio:"Prio 2",codePoste:"code poste technique 3",description:"description courte 3"},{title:"N° OT 0000005",text:"Casier cassé",date:"15/10/2019",equipement:"Serrurier",status:"Majeure",prio:"Prio 1",codePoste:"code poste technique 4",description:"description courte 4"}];t.aOTElements=e;this.followupListModel(e)}})});