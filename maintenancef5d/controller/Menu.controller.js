sap.ui.define(["com/eramet/maintenanceF5D/controller/BaseController","com/eramet/maintenanceF5D/util/util","com/eramet/maintenanceF5D/util/formatter"],function(e,t,i){"use strict";return e.extend("com.eramet.maintenanceF5D.controller.Menu",{bExpanded:false,onInit:function(){this.getRouter().attachRoutePatternMatched(this._onRouteMatched,this);this.applyTheme("sap_fiori_3");this.createHeaderModel();this.menuTitleModel()},_onRouteMatched:function(e){if(e.getParameter("name")&&e.getParameter("name")==="Home"){this.setViewName(e.getParameter("name"));var t=this.getView().byId("customer").getText();this._setDisplayModel(t);var i={visible:false}}else{i={visible:true}}this.createHeaderModel(i);var n=this;setTimeout(function(){n.setTitle()},100)},onAfterRendering:function(){this._setTiles("depanner")},_checkConnection:function(){this.getView().byId("connected").setVisible(false);this.getView().byId("deconnected").setVisible(false);var e=this;if(navigator.onLine){console.log("online");this.getView().byId("connected").setVisible(true);this.getView().byId("deconnected").setVisible(false)}else{console.log("offline");this.getView().byId("connected").setVisible(false);this.getView().byId("deconnected").setVisible(true)}window.addEventListener("load",function(t){e.getView().byId("connected").setVisible(false);e.getView().byId("deconnected").setVisible(false);if(navigator.onLine){console.log("online");e.getView().byId("connected").setVisible(true);e.getView().byId("deconnected").setVisible(false)}else{console.log("offline");e.getView().byId("connected").setVisible(false);e.getView().byId("deconnected").setVisible(true)}},false);window.addEventListener("online",function(t){console.log("now it is online");e.getView().byId("connected").setVisible(true);e.getView().byId("deconnected").setVisible(false)},false);window.addEventListener("offline",function(t){console.log("now it is offline");e.getView().byId("connected").setVisible(false);e.getView().byId("deconnected").setVisible(true)},false)},_setHomeIcon:function(e){this.getView().byId("homeButton").setVisible(e)},onCollapseExpandPress:function(){var e=this;var t=this.getView().byId("sideNavigation");var i=t.getExpanded();this._checkConnection();if(i===false){t.setVisible(true);setTimeout(function(){e.getView().byId("sideNavigation").setExpanded(true)},100)}else{t.setExpanded(false);setTimeout(function(){e.getView().byId("sideNavigation").setVisible(false)},1e3)}},onPressFlush:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.flushStore1();sap.hybrid.flushStore2();sap.hybrid.flushStore3();sap.hybrid.flushStore4()}},onPressRefresh:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.refreshStore1();sap.hybrid.refreshStore2();sap.hybrid.refreshStore3();sap.hybrid.refreshStore4()}}})});