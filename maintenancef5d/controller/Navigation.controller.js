sap.ui.define(["com/eramet/maintenanceF5D/controller/BaseController","com/eramet/maintenanceF5D/util/util","com/eramet/maintenanceF5D/util/formatter","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,a,n,o){"use strict";return e.extend("com.eramet.maintenance.controller.Navigation",{onInit:function(){this.getRouter().attachRoutePatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){if(e.getParameter("name")==="Navigation"){this._callServices()}},onAfterRendering:function(){},_callServices:function(){var e=this;var t=com.eramet.maintenance.Component.getMetadata().getManifestEntry("sap.app").dataSources["northwind.svc"].uri,a=new sap.ui.model.odata.ODataModel(t,true);a.read("Products/",null,null,true,function(t){alert("Products service called successfully");if(t&&t.results&&t.results.length&&t.results.length>0){alert(t.results.length)}else{alert("Empty Products odata!")}console.log("oData1:",t);e.testModel1(t);var a=e.getView(),n=a.byId("table1"),o=new sap.ui.model.json.JSONModel;a.setModel(o,"testModel1");n.setModel(o,"testModel1");n.getModel("testModel1").setData(t.results);n.getModel("testModel1").updateBindings();n.getModel("testModel1").refresh(true)},function(){alert("Products service fail")});var n=com.eramet.maintenance.Component.getMetadata().getManifestEntry("sap.app").dataSources["EAM_NTF_CREATE"].uri,o=new sap.ui.model.odata.ODataModel(n,true);o.read("NotificationHeaderSet/",null,null,true,function(t){alert("NotificationTypeSet service called successfully");if(t&&t.results&&t.results.length&&t.results.length>0){alert(t.results.length)}else{alert("Empty NotificationTypeSet odata!")}console.log("oData2:",t);e.testModel2(t);var a=e.getView(),n=a.byId("table2"),o=new sap.ui.model.json.JSONModel;a.setModel(o,"testModel2");n.setModel(o,"testModel2");n.getModel("testModel2").setData(t.results);n.getModel("testModel2").updateBindings();n.getModel("testModel2").refresh(true)},function(){alert("NotificationTypeSet service fail")})},onPressNavBack:function(){this.getRouter().navTo("InfoStock")},_createViewModel:function(){return new n({isFilterBarVisible:false,filterBarLabel:"",delay:0,title:"title",noDataText:"no data",sortBy:"NotificationID",groupBy:"None"})},onRefreshButton1:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.refreshStore1()}var e=this.getView(),t=e.byId("table1");alert("length of table1: "+t.getModel("testModel1").getData().length);t.getModel("testModel1").updateBindings();t.getModel("testModel1").refresh(true)},onRefreshButton2:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.refreshStore2()}var e=this.getView(),t=e.byId("table2");alert("length of table2: "+t.getModel("testModel2").getData().length);t.getModel("testModel2").updateBindings();t.getModel("testModel2").refresh(true)},onPressCreate:function(){var e=sap.ui.xmlfragment("com.eramet.maintenance.view.fragment.createPopup",this);this.getView().addDependent(e);e.open()},onFlushButton1:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.flushStore1()}},onFlushButton2:function(){if(typeof sap.hybrid!=="undefined"){sap.hybrid.flushStore2()}},onSave:function(){var e=com.eramet.maintenance.Component.getMetadata().getManifestEntry("sap.app").dataSources["mainService"].uri,t=this;var a={EquipmentID:sap.ui.getCore().byId("EquipmentID_id").getSelectedKey(),Breakdown:sap.ui.getCore().byId("Breakdown_id").getState(),Degraded:sap.ui.getCore().byId("Degraded_id").getSelected(),BreakdownStartDate:new Date,Symptom:sap.ui.getCore().byId("Symptom_id").getSelectedKey(),Comment:sap.ui.getCore().byId("Comment_id").getValue(),NotificationType:sap.ui.getCore().byId("NotificationType_id").getSelectedKey()};this.onPressClose()},onPressClose:function(){var e=sap.ui.getCore();e.byId("createDialog").close();e.byId("createDialog").destroy()},_checkIfBatchRequestSucceeded:function(e){var t=e.getParameters();var a=e.getParameters().requests;var n;if(t.success){if(a){for(var o=0;o<a.length;o++){n=e.getParameters().requests[o];if(!n.success){return false}}}return true}else{return false}},_fnUpdateSuccess:function(){this.getModel("appView").setProperty("/busy",false);this.getView().unbindObject();this.getRouter().getTargets().display("object")},onCancel:function(){this.onPressClose()}})});